# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a Shopify theme for Rejuvia, an e-commerce site for natural wellness products. The theme is built using Shopify's Liquid templating language with custom sections, snippets, and JSON templates.

## Repository Information

- **Main branch**: `main`
- **Git remotes**:
  - `origin`: https://github.com/IGordiichuk/rejuvia.git (your fork)
  - `upstream`: https://github.com/Rejuvia-Co/rejuvia.git (upstream repository)

## Theme Architecture

### Directory Structure

- **`sections/`**: Reusable theme sections that can be added to pages through the Shopify theme editor (65+ sections)
- **`snippets/`**: Smaller reusable components included via `{% render %}` or `{% include %}` (180+ snippets)
- **`templates/`**: Page templates that define the layout for different page types (40+ templates)
- **`layout/`**: Main layout files (`theme.liquid`, `password.liquid`)
- **`assets/`**: CSS, JavaScript, images, and fonts (90+ files)
- **`config/`**: Theme configuration files
  - `settings_schema.json`: Theme customization options
  - `settings_data.json`: Current theme settings (auto-generated by Shopify)
- **`locales/`**: Translation files

### Key Sections

- **Product sections**: Multiple product display variants (`_product.liquid`, `_product-new.liquid`, `_product2.liquid`, etc.)
- **Cart sections**: Cart display and functionality (`cart-main.liquid`, `cart_offers.liquid`)
- **Content sections**: Hero, testimonials, FAQs, ingredients, how-it-works, etc.
- **Comparison sections**: Product comparison tables (`comparison-table.liquid`, `comparison-alternatives.liquid`, `product-comparison-enhanced.liquid`)

### Template System

Templates are primarily JSON-based, defining which sections appear on each page type:
- `product.json`, `product.calmspray.json`, `product.sleepspray-new.json`, `product.starterkit.json`: Product page variants
- `page.ingredients.json`, `page.faq-new.json`, `page.story.json`: Custom page layouts
- `cart.json`, `collection.new.json`: Cart and collection pages

### Third-Party Integrations

The theme integrates with several services (visible in `layout/theme.liquid`):
- **Skio**: Subscription management (`{% render 'skio-head' %}`)
- **Replo**: Landing page builder (`{% render 'replo-head' %}`)
- **Dash.Fi**: Analytics tracking
- **AOS (Animate On Scroll)**: Scroll animations
- **Wonderment**: Order tracking
- **Rivo**: Referrals program
- **jQuery**: Used throughout the theme

### Product Snippets

Multiple product display variants exist to handle different presentation styles:
- `_product.liquid`: Main product display
- `_product-new.liquid`: Updated product layout (45KB, most complex)
- `_product2.liquid`, `_product2testnosub.liquid`: Alternative layouts
- `_productsleep.liquid`: Sleep spray specific layout
- `_product_buttons.liquid`, `_product_gallery.liquid`, `_product_price.liquid`, `_product_quantity.liquid`: Modular components
- `_product_variants.liquid`, `_product_variants2.liquid`, `_product_variants3.liquid`: Different variant selection UIs

### Settings Configuration

The theme uses a comprehensive settings system in `config/settings_schema.json`:
- **General settings**: Container width, padding, breakpoints (tablet: 900px, mobile: 600px), sticky header options
- **Additional product settings**: For subscription bundles
- **Store images**: Logos, favicons
- Theme uses "Nexa" as the primary font family

## Important Notes

### Auto-Generated Files

Files in `config/` and most JSON templates contain this warning:
```
IMPORTANT: The contents of this file are auto-generated.
This file may be updated by the Shopify admin theme editor.
```
Exercise caution when editing these files as changes may be overwritten by the Shopify admin.

### Subscription Features

Products use metafields for subscription settings (`product.metafields.subscriptions`) and integrate with Skio for subscription management. Several product snippets have variants specifically for handling subscription vs one-time purchase logic.

### Responsive Design

The theme uses custom breakpoints:
- Desktop: > 900px
- Tablet: 600px - 900px
- Mobile: < 600px

Container padding adjusts per breakpoint (desktop: 0 1.5em, tablet: 0 1.2em, mobile: 0 1em).

### File Naming Conventions

- Sections: kebab-case (e.g., `customer-testimonials.liquid`, `how-it-works.liquid`)
- Snippets: Underscore-prefixed for includes (e.g., `_product.liquid`, `_collection.liquid`)
- Some sections use camelCase (e.g., `IconBreakdown.liquid`)

## Development Workflow

Since this is a Shopify theme, changes are typically made locally and then synced to Shopify. The repository tracks git status showing deleted comparison table screenshots, indicating recent cleanup or refactoring.

When working with this theme:
1. Be aware that JSON template files may be modified by the Shopify admin
2. Test changes across different breakpoints (mobile, tablet, desktop)
3. Consider subscription vs one-time purchase flows when modifying product sections
4. Verify third-party integrations (Skio, Replo, etc.) still function after changes
