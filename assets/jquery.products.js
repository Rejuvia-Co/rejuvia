Shopify.Products=function(){var o={howManyToShow:3,howManyToStoreInMemory:10,wrapperId:"recently-viewed-products",onComplete:null},t=[],c=null,u=0,r={configuration:{expires:90,path:"/",domain:window.location.hostname},name:"shopify_recently_viewed",write:function(e){Cookies.set(this.name,e.join(" "),this.configuration)},read:function(){var e=[],n=Cookies.get(this.name);return n&&n!==null&&(e=n.split(" ")),e},destroy:function(){Cookies.remove(this.name)},remove:function(e){var n=this.read(),i=jQuery.inArray(e,n);i!==-1&&(n.splice(i,1),this.write(n))}},h=function(){if(c.show(),o.onComplete)try{o.onComplete()}catch{}},a=function(){if(t.length&&u<o.howManyToShow){if(window.location.pathname.match(/\/products\/([a-z0-9\-]+)/))var e=window.location.pathname.match(/\/products\/([a-z0-9\-]+)/)[1];else var e=null;e!=t[0]?jQuery.ajax({url:"/products/"+t[0]+"?view=item-ajax",cache:!1,success:function(n){n.indexOf("product-item")>0?(c.append(n),t.shift(),u++,a()):(r.remove(t[0]),t.shift(),a())},error:function(){r.remove(t[0]),t.shift(),a()}}):(t.shift(),a())}else h()};return{resizeImage:function(e,n){if(n==null)return e;if(n=="master")return e.replace(/http(s)?:/,"");var i=e.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?/i);if(i!=null){var l=e.split(i[0]),f=i[0];return(l[0]+"_"+n+f).replace(/http(s)?:/,"")}else return null},showRecentlyViewed:function(e){var e=e||{};jQuery.extend(o,e),t=r.read(),c=jQuery("#"+o.wrapperId),o.howManyToShow=Math.min(t.length,o.howManyToShow),o.howManyToShow&&c.length&&a()},getConfig:function(){return o},clearList:function(){r.destroy()},recordRecentlyViewed:function(e){var e=e||{};jQuery.extend(o,e);var n=r.read();if(window.location.pathname.indexOf("/products/")!==-1){var i=window.location.pathname.match(/\/products\/([a-z0-9\-]+)/)[1],l=jQuery.inArray(i,n);l===-1?(n.unshift(i),n=n.splice(0,o.howManyToStoreInMemory)):(n.splice(l,1),n.unshift(i)),r.write(n)}}}}();
//# sourceMappingURL=/s/files/1/0418/7085/2258/t/34/assets/jquery.products.js.map?v=1638376249
